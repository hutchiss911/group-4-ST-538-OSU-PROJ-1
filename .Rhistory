TRUE ~ as.character(EducationLevel)
)
)
head(puma_data)
puma_data[1:50,]
## For your notes, an if statement for checking if a package is installed :)
#if(!require(somepackage)){
#    install.packages("somepackage")
#    library(somepackage)
#}
if (!require(tidycensus)) {
install.packages("tidycensus")
}
if (!require(tidyverse)) {
install.packages("tidyverse")
}
if (!require(dplyr)) {
install.packages("dplyr")
}
if (!require(ggplot2)) {
install.packages("ggplot2")
}
library(tidycensus)
library(tidyverse)
library(dplyr)
library(ggplot2)
census_api_key("2547c95ce33b1ed0eec3aafd0fd8526a5bb9a22e")
puma_data <- get_pums(variables = c("AGEP","SCHL","PINCP", "SEX")
,state = "OR"
,year = 2022)
puma_data$EducationGroup[1:60,]
puma_data[1:60,]
puma_data <- puma_data %>% rename(Age = AGEP,
EducationLevel = SCHL,
Income = PINCP,
Sex = SEX,
PersonNumber = SPORDER)
head(puma_data[, 2:5])
puma_data <- puma_data %>%
select(-ST, -SERIALNO, -WGTP, -PWGTP)
head(puma_data)
puma_data <- puma_data %>%
mutate(
EducationLevel = case_when(
EducationLevel == "bb" ~ "00",
TRUE ~ EducationLevel
),
EducationLevel = as.numeric(EducationLevel)
)
class(puma_data$EducationLevel)
puma_data[1:50,]
puma_data <- puma_data %>%
mutate(
EducationGroup = cut(EducationLevel, breaks = c(0, 1, 11, 16, 17, 21, 22, 23, 24),
labels = c("No Education", "Lower Than High School",
"High School", "HS Diploma or GED",
"Associates Degree", "Bachelors Degree",
"Masters Degree", "Doctoral Degree"),
right = FALSE)
)
unique(puma_data$EducationGroup)
puma_data[1:50,]
puma_data <- puma_data %>%
select(EducationGroup, EducationLevel, Income, Age, Sex, PersonNumber)
head(puma_data)
puma_data <- puma_data %>%
filter(Age >= 14)
head(puma_data[puma_data$Age < 14,])
#Since we're refactoring the Education levels to groups, commenting this original out.
puma_data <- puma_data %>%
mutate(
EducationLevel = case_when(
EducationLevel == 0 ~ "(less than 3 years old)",
EducationLevel == 1 ~ "No schooling completed",
EducationLevel == 2 ~ "Nursery School / Preschool",
EducationLevel == 3 ~ "Kindergarten",
EducationLevel == 4 ~ "Grade 1",
EducationLevel == 5 ~ "Grade 2",
EducationLevel == 6 ~ "Grade 3",
EducationLevel == 7 ~ "Grade 4",
EducationLevel == 8 ~ "Grade 5",
EducationLevel == 9 ~ "Grade 6",
EducationLevel == 10 ~ "Grade 7",
EducationLevel == 11 ~ "Grade 8",
EducationLevel == 12 ~ "Grade 9",
EducationLevel == 13 ~ "Grade 10",
EducationLevel == 14 ~ "Grade 11",
EducationLevel == 15 ~ "Grade 12 - no diploma",
EducationLevel == 16 ~ "Regular high school diploma",
EducationLevel == 17 ~ "GED or alternative credential",
EducationLevel == 18 ~ "Some college, but less than 1 year",
EducationLevel == 19 ~ "1 or more years of college credit, no degree",
EducationLevel == 20 ~ "Associates Degree",
EducationLevel == 21 ~ "Bachelors Degree",
EducationLevel == 22 ~ "Masters Degree",
EducationLevel == 23 ~ "Professional Degree beyond a Bachelors Degree",
EducationLevel == 24 ~ "Doctorate Degree",
TRUE ~ as.character(EducationLevel)
)
)
puma_data[1:50,]
puma_data <- get_pums(variables = c("AGEP","SCHL","PINCP", "SEX")
,state = "OR"
,year = 2022)
puma_data <- puma_data %>%
mutate(
EducationGroup = cut(EducationLevel, breaks = c(0, 1, 15, 16, 17, 19, 20, 21, 22, 23, 24, Inf),
labels = c("(less than 3 years old)", "No schooling completed",
"Grade 12 - no diploma", "Regular high school diploma",
"GED or alternative credential", "Some college, no degree",
"Associates Degree", "Bachelors Degree",
"Masters Degree", "Professional Degree beyond a Bachelors Degree",
"Doctorate Degree"),
right = FALSE)
)
puma_data <- puma_data %>%
select(-ST, -SERIALNO, -WGTP, -PWGTP)
head(puma_data)
puma_data <- puma_data %>% rename(Age = AGEP,
EducationLevel = SCHL,
Income = PINCP,
Sex = SEX,
PersonNumber = SPORDER)
head(puma_data[, 2:5])
puma_data <- puma_data %>%
mutate(
EducationLevel = case_when(
EducationLevel == "bb" ~ "00",
TRUE ~ EducationLevel
),
EducationLevel = as.numeric(EducationLevel)
)
class(puma_data$EducationLevel)
puma_data <- puma_data %>%
mutate(
EducationGroup = cut(EducationLevel, breaks = c(0, 1, 15, 16, 17, 19, 20, 21, 22, 23, 24, Inf),
labels = c("(less than 3 years old)", "No schooling completed",
"Grade 12 - no diploma", "Regular high school diploma",
"GED or alternative credential", "Some college, no degree",
"Associates Degree", "Bachelors Degree",
"Masters Degree", "Professional Degree beyond a Bachelors Degree",
"Doctorate Degree"),
right = FALSE)
)
unique(puma_data$EducationGroup)
puma_data[1:50,]
puma_data <- puma_data %>%
select(EducationGroup, EducationLevel, Income, Age, Sex, PersonNumber)
head(puma_data)
puma_data <- puma_data %>%
filter(Age >= 14)
head(puma_data[puma_data$Age < 14,])
#Since we're refactoring the Education levels to groups, commenting this original out.
puma_data <- puma_data %>%
mutate(
EducationLevel = case_when(
EducationLevel == 0 ~ "(less than 3 years old)",
EducationLevel == 1 ~ "No schooling completed",
EducationLevel == 2 ~ "Nursery School / Preschool",
EducationLevel == 3 ~ "Kindergarten",
EducationLevel == 4 ~ "Grade 1",
EducationLevel == 5 ~ "Grade 2",
EducationLevel == 6 ~ "Grade 3",
EducationLevel == 7 ~ "Grade 4",
EducationLevel == 8 ~ "Grade 5",
EducationLevel == 9 ~ "Grade 6",
EducationLevel == 10 ~ "Grade 7",
EducationLevel == 11 ~ "Grade 8",
EducationLevel == 12 ~ "Grade 9",
EducationLevel == 13 ~ "Grade 10",
EducationLevel == 14 ~ "Grade 11",
EducationLevel == 15 ~ "Grade 12 - no diploma",
EducationLevel == 16 ~ "Regular high school diploma",
EducationLevel == 17 ~ "GED or alternative credential",
EducationLevel == 18 ~ "Some college, but less than 1 year",
EducationLevel == 19 ~ "1 or more years of college credit, no degree",
EducationLevel == 20 ~ "Associates Degree",
EducationLevel == 21 ~ "Bachelors Degree",
EducationLevel == 22 ~ "Masters Degree",
EducationLevel == 23 ~ "Professional Degree beyond a Bachelors Degree",
EducationLevel == 24 ~ "Doctorate Degree",
TRUE ~ as.character(EducationLevel)
)
)
puma_data[1:50,]
library(tidycensus)
library(tidyverse)
library(dplyr)
library(ggplot2)
census_api_key("2547c95ce33b1ed0eec3aafd0fd8526a5bb9a22e")
puma_data <- get_pums(variables = c("AGEP","SCHL","PINCP", "SEX")
,state = "OR"
,year = 2022)
puma_data <- puma_data %>% rename(Age = AGEP,
EducationLevel = SCHL,
Income = PINCP,
Sex = SEX,
PersonNumber = SPORDER)
head(puma_data[, 2:5])
puma_data <- puma_data %>%
select(-ST, -SERIALNO, -WGTP, -PWGTP)
head(puma_data)
puma_data <- puma_data %>%
mutate(
EducationLevel = case_when(
EducationLevel == "bb" ~ "00",
TRUE ~ EducationLevel
),
EducationLevel = as.numeric(EducationLevel)
)
class(puma_data$EducationLevel)
puma_data <- puma_data %>%
mutate(
EducationGroup = cut(EducationLevel, breaks = c(0, 1, 11, 16, 17, 19, 20, 21, 22, 23, 24, Inf),
labels = c("No schooling completed",
"Grade 12 - no diploma", "Regular high school diploma",
"GED or alternative credential", "Some college, no degree",
"Associates Degree", "Bachelors Degree",
"Masters Degree", "Professional Degree beyond a Bachelors Degree",
"Doctorate Degree"),
right = FALSE)
)
puma_data <- puma_data %>%
mutate(
EducationGroup = cut(EducationLevel, breaks = c(0, 1, 11, 16, 17, 19, 20, 21, 22, 23, 24, Inf),
labels = c("No schooling completed", "Less than High School"
"Grade 12 - no diploma", "Regular high school diploma",
puma_data <- puma_data %>%
mutate(
EducationGroup = cut(EducationLevel, breaks = c(0, 1, 11, 16, 17, 19, 20, 21, 22, 23, 24, Inf),
labels = c("No schooling completed", "Less than High School",
"Grade 12 - no diploma", "Regular high school diploma",
"GED or alternative credential", "Some college, no degree",
"Associates Degree", "Bachelors Degree",
"Masters Degree", "Professional Degree beyond a Bachelors Degree",
"Doctorate Degree"),
right = FALSE)
)
unique(puma_data$EducationGroup)
puma_data[1:50,]
puma_data <- puma_data %>%
select(EducationGroup, EducationLevel, Income, Age, Sex, PersonNumber)
head(puma_data)
puma_data <- puma_data %>%
filter(Age >= 14)
head(puma_data[puma_data$Age < 14,])
#Since we're refactoring the Education levels to groups, commenting this original out.
puma_data <- puma_data %>%
mutate(
EducationLevel = case_when(
EducationLevel == 0 ~ "(less than 3 years old)",
EducationLevel == 1 ~ "No schooling completed",
EducationLevel == 2 ~ "Nursery School / Preschool",
EducationLevel == 3 ~ "Kindergarten",
EducationLevel == 4 ~ "Grade 1",
EducationLevel == 5 ~ "Grade 2",
EducationLevel == 6 ~ "Grade 3",
EducationLevel == 7 ~ "Grade 4",
EducationLevel == 8 ~ "Grade 5",
EducationLevel == 9 ~ "Grade 6",
EducationLevel == 10 ~ "Grade 7",
EducationLevel == 11 ~ "Grade 8",
EducationLevel == 12 ~ "Grade 9",
EducationLevel == 13 ~ "Grade 10",
EducationLevel == 14 ~ "Grade 11",
EducationLevel == 15 ~ "Grade 12 - no diploma",
EducationLevel == 16 ~ "Regular high school diploma",
EducationLevel == 17 ~ "GED or alternative credential",
EducationLevel == 18 ~ "Some college, but less than 1 year",
EducationLevel == 19 ~ "1 or more years of college credit, no degree",
EducationLevel == 20 ~ "Associates Degree",
EducationLevel == 21 ~ "Bachelors Degree",
EducationLevel == 22 ~ "Masters Degree",
EducationLevel == 23 ~ "Professional Degree beyond a Bachelors Degree",
EducationLevel == 24 ~ "Doctorate Degree",
TRUE ~ as.character(EducationLevel)
)
)
puma_data[1:50,]
puma_data <- get_pums(variables = c("AGEP","SCHL","PINCP", "SEX")
,state = "OR"
,year = 2022)
puma_data <- puma_data %>% rename(Age = AGEP,
EducationLevel = SCHL,
Income = PINCP,
Sex = SEX,
PersonNumber = SPORDER)
head(puma_data[, 2:5])
puma_data <- puma_data %>%
select(-ST, -SERIALNO, -WGTP, -PWGTP)
head(puma_data)
puma_data <- puma_data %>%
mutate(
EducationLevel = case_when(
EducationLevel == "bb" ~ "00",
TRUE ~ EducationLevel
),
EducationLevel = as.numeric(EducationLevel)
)
class(puma_data$EducationLevel)
puma_data <- puma_data %>%
mutate(
EducationGroup = cut(EducationLevel, breaks = c(0, 1, 11, 16, 19, 20, 21, 22, 24, Inf),
labels = c("No schooling completed", "Less than High School",
"High School", "high school diploma or GED",
"GED or alternative credential", "Some college, no degree",
"Associates Degree", "Bachelors Degree",
"Masters Degree", "Doctorate Degree"),
right = FALSE)
)
puma_data <- puma_data %>%
mutate(
EducationGroup = cut(EducationLevel, breaks = c(0, 1, 11, 16, 19, 20, 21, 22, 24, Inf),
labels = c("No schooling completed", "Less than High School",
"High School", "high school diploma or GED",
"Associates Degree", "Bachelors Degree",
"Masters Degree", "Doctorate Degree"),
right = FALSE)
)
puma_data <- puma_data %>%
mutate(
EducationGroup = cut(EducationLevel, breaks = c(0, 1, 15, 17, 20, 21, 22, 24, Inf),
labels = c("No schooling completed", "Less than High School",
"High School", "high school diploma or GED",
"Associates Degree", "Bachelors Degree",
"Masters Degree", "Doctorate Degree"),
right = FALSE)
)
unique(puma_data$EducationGroup)
puma_data[1:50,]
puma_data <- puma_data %>%
select(EducationGroup, EducationLevel, Income, Age, Sex, PersonNumber)
head(puma_data)
puma_data <- puma_data %>%
filter(Age >= 14)
head(puma_data[puma_data$Age < 14,])
#Since we're refactoring the Education levels to groups, commenting this original out.
puma_data <- puma_data %>%
mutate(
EducationLevel = case_when(
EducationLevel == 0 ~ "(less than 3 years old)",
EducationLevel == 1 ~ "No schooling completed",
EducationLevel == 2 ~ "Nursery School / Preschool",
EducationLevel == 3 ~ "Kindergarten",
EducationLevel == 4 ~ "Grade 1",
EducationLevel == 5 ~ "Grade 2",
EducationLevel == 6 ~ "Grade 3",
EducationLevel == 7 ~ "Grade 4",
EducationLevel == 8 ~ "Grade 5",
EducationLevel == 9 ~ "Grade 6",
EducationLevel == 10 ~ "Grade 7",
EducationLevel == 11 ~ "Grade 8",
EducationLevel == 12 ~ "Grade 9",
EducationLevel == 13 ~ "Grade 10",
EducationLevel == 14 ~ "Grade 11",
EducationLevel == 15 ~ "Grade 12 - no diploma",
EducationLevel == 16 ~ "Regular high school diploma",
EducationLevel == 17 ~ "GED or alternative credential",
EducationLevel == 18 ~ "Some college, but less than 1 year",
EducationLevel == 19 ~ "1 or more years of college credit, no degree",
EducationLevel == 20 ~ "Associates Degree",
EducationLevel == 21 ~ "Bachelors Degree",
EducationLevel == 22 ~ "Masters Degree",
EducationLevel == 23 ~ "Professional Degree beyond a Bachelors Degree",
EducationLevel == 24 ~ "Doctorate Degree",
TRUE ~ as.character(EducationLevel)
)
)
puma_data[1:50,]
puma_data <- get_pums(variables = c("AGEP","SCHL","PINCP", "SEX")
,state = "OR"
,year = 2022)
puma_data <- puma_data %>% rename(Age = AGEP,
EducationLevel = SCHL,
Income = PINCP,
Sex = SEX,
PersonNumber = SPORDER)
head(puma_data[, 2:5])
puma_data <- puma_data %>%
select(-ST, -SERIALNO, -WGTP, -PWGTP)
head(puma_data)
puma_data <- puma_data %>%
mutate(
EducationLevel = case_when(
EducationLevel == "bb" ~ "00",
TRUE ~ EducationLevel
),
EducationLevel = as.numeric(EducationLevel)
)
class(puma_data$EducationLevel)
puma_data <- puma_data %>%
mutate(
EducationGroup = cut(EducationLevel, breaks = c(0, 1, 11, 16, 20, 21, 22, 24, Inf),
labels = c("No schooling completed", "Less than High School",
"High School", "high school diploma or GED",
"Associates Degree", "Bachelors Degree",
"Masters Degree", "Doctorate Degree"),
right = FALSE)
)
unique(puma_data$EducationGroup)
puma_data[1:50,]
puma_data <- puma_data %>%
select(EducationGroup, EducationLevel, Income, Age, Sex, PersonNumber)
head(puma_data)
puma_data <- puma_data %>%
filter(Age >= 14)
head(puma_data[puma_data$Age < 14,])
#Since we're refactoring the Education levels to groups, commenting this original out.
puma_data <- puma_data %>%
mutate(
EducationLevel = case_when(
EducationLevel == 0 ~ "(less than 3 years old)",
EducationLevel == 1 ~ "No schooling completed",
EducationLevel == 2 ~ "Nursery School / Preschool",
EducationLevel == 3 ~ "Kindergarten",
EducationLevel == 4 ~ "Grade 1",
EducationLevel == 5 ~ "Grade 2",
EducationLevel == 6 ~ "Grade 3",
EducationLevel == 7 ~ "Grade 4",
EducationLevel == 8 ~ "Grade 5",
EducationLevel == 9 ~ "Grade 6",
EducationLevel == 10 ~ "Grade 7",
EducationLevel == 11 ~ "Grade 8",
EducationLevel == 12 ~ "Grade 9",
EducationLevel == 13 ~ "Grade 10",
EducationLevel == 14 ~ "Grade 11",
EducationLevel == 15 ~ "Grade 12 - no diploma",
EducationLevel == 16 ~ "Regular high school diploma",
EducationLevel == 17 ~ "GED or alternative credential",
EducationLevel == 18 ~ "Some college, but less than 1 year",
EducationLevel == 19 ~ "1 or more years of college credit, no degree",
EducationLevel == 20 ~ "Associates Degree",
EducationLevel == 21 ~ "Bachelors Degree",
EducationLevel == 22 ~ "Masters Degree",
EducationLevel == 23 ~ "Professional Degree beyond a Bachelors Degree",
EducationLevel == 24 ~ "Doctorate Degree",
TRUE ~ as.character(EducationLevel)
)
)
puma_data[1:50,]
puma_data <- get_pums(variables = c("AGEP","SCHL","PINCP", "SEX")
,state = "OR"
,year = 2022)
puma_data <- puma_data %>% rename(Age = AGEP,
EducationLevel = SCHL,
Income = PINCP,
Sex = SEX,
PersonNumber = SPORDER)
head(puma_data[, 2:5])
puma_data <- puma_data %>%
select(-ST, -SERIALNO, -WGTP, -PWGTP)
head(puma_data)
puma_data <- puma_data %>%
mutate(
EducationLevel = case_when(
EducationLevel == "bb" ~ "00",
TRUE ~ EducationLevel
),
EducationLevel = as.numeric(EducationLevel)
)
class(puma_data$EducationLevel)
puma_data <- puma_data %>%
mutate(
EducationGroup = cut(EducationLevel, breaks = c(0, 2, 11, 16, 20, 21, 22, 24, Inf),
labels = c("No schooling completed", "Less than High School",
"High School", "high school diploma or GED",
"Associates Degree", "Bachelors Degree",
"Masters Degree", "Doctorate Degree"),
right = FALSE)
)
unique(puma_data$EducationGroup)
puma_data[1:50,]
puma_data <- puma_data %>%
select(EducationGroup, EducationLevel, Income, Age, Sex, PersonNumber)
head(puma_data)
puma_data <- puma_data %>%
filter(Age >= 14)
head(puma_data[puma_data$Age < 14,])
#Since we're refactoring the Education levels to groups, commenting this original out.
puma_data <- puma_data %>%
mutate(
EducationLevel = case_when(
EducationLevel == 0 ~ "(less than 3 years old)",
EducationLevel == 1 ~ "No schooling completed",
EducationLevel == 2 ~ "Nursery School / Preschool",
EducationLevel == 3 ~ "Kindergarten",
EducationLevel == 4 ~ "Grade 1",
EducationLevel == 5 ~ "Grade 2",
EducationLevel == 6 ~ "Grade 3",
EducationLevel == 7 ~ "Grade 4",
EducationLevel == 8 ~ "Grade 5",
EducationLevel == 9 ~ "Grade 6",
EducationLevel == 10 ~ "Grade 7",
EducationLevel == 11 ~ "Grade 8",
EducationLevel == 12 ~ "Grade 9",
EducationLevel == 13 ~ "Grade 10",
EducationLevel == 14 ~ "Grade 11",
EducationLevel == 15 ~ "Grade 12 - no diploma",
EducationLevel == 16 ~ "Regular high school diploma",
EducationLevel == 17 ~ "GED or alternative credential",
EducationLevel == 18 ~ "Some college, but less than 1 year",
EducationLevel == 19 ~ "1 or more years of college credit, no degree",
EducationLevel == 20 ~ "Associates Degree",
EducationLevel == 21 ~ "Bachelors Degree",
EducationLevel == 22 ~ "Masters Degree",
EducationLevel == 23 ~ "Professional Degree beyond a Bachelors Degree",
EducationLevel == 24 ~ "Doctorate Degree",
TRUE ~ as.character(EducationLevel)
)
)
puma_data[1:50,]
puma_data[1:100,]
